<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Access Location</title>
</head>
<body>
    <div class="getYourLocation">
        <p>Your location</p>
        <h1 class="place"></h1>
        <button class="location-btn">Get Location</button>
    </div>
    <div class="accessCamera">
        <p>Camera</p>
        <video id="video" autoplay style="width: 300px; height: 300px; background-color: rgb(189, 179, 179);"></video>
       
    </div>

    <script>
        // Access location
        const findMyLocation =()=>{
            const placeEle = document.querySelector('.place');

            const success =(position)=>{
                console.log(position);
                const lat = position.coords.latitude; 
                const lon = position.coords.longitude; 
                // link Api Location
                const ApiUrl= `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`;
                //fetch data
                fetch(ApiUrl).then(res => res.json())
                .then(data =>{
                    placeEle.textContent = data.principalSubdivision
                })
            }
            const error =()=>{
                placeEle.textContent="No Location";
            }
            navigator.geolocation.getCurrentPosition(success,error);

        }
        document.querySelector(".location-btn").addEventListener("click", findMyLocation);

        //Access video
        const video = document.querySelector("#video");

        if(navigator.mediaDevices.getUserMedia){
            navigator.mediaDevices.getUserMedia( {video: true})
            .then((stream)=>{
                video.srcObject = stream;
            })
            .catch((error)=>{
                console.log("Error");
            })

        }else{
            console.log('Media not supported!');
        }


    </script>
</body>
</html>
